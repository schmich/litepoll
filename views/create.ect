<% extend 'layouts/no-footer.ect' %>
<form name="form" id="create-poll" ng-controller="PollCreateCtrl" ng-submit="createPoll()">
  <div ng-hide="showAdvanced">
    <div class="title">
      <input type="text"
        id="title"
        name="title"
        ng-model="poll.title"
        ng-enter-tab="true"
        maxlength="140"
        autocapitalize="true"
        placeholder="Your question?"
        autofocus="true"
      />
    </div>
    <ol class="option">
      <li ng-repeat="option in poll.options track by $index">
        <input type="text"
          name="options"
          ng-keydown="keydown($event, $index)"
          ng-change="change($event, $index)"
          ng-model="poll.options[$index]"
          ng-enter-tab="true"
          maxlength="140"
          autocapitalize="true"
          placeholder="Option {{$index + 1}}"
        />
      </li>
    </ol>
    <center>
      <div class="actions">
        <a href="#advanced" ng-click="toggleAdvanced()">Advanced &raquo;</a>
        <input type="submit" class="action" value="Create Poll" />
      </div>
    </center>
  </div>
  <div id="advanced-poll-options" ng-show="showAdvanced">
    <input type="checkbox" id="multi" ng-model="poll.multi"><label for="multi"><i class="icon"></i> Multiple selection</label>
    <p>Allow voting for multiple options. By default, only one option can be selected.</p>
    <input type="checkbox" id="secret" ng-model="poll.secret"><label for="secret"><i class="icon"></i> Private poll</label>
    <p>Hide your poll. Only those with the secret poll URL will be able to see it.</p>
    <input type="checkbox" id="strict" ng-model="poll.strict"><label for="strict"><i class="icon"></i> Enforce IP checking</label>
    <p>Allow one vote per unique IP address. Disable if you expect voting from schools, businesses, or shared network connections.</p>
    <input type="checkbox" id="allowComments" ng-model="poll.allowComments"><label for="allowComments"><i class="icon"></i> Allow comments</label>
    <p>Allow users to comment on the poll after voting.</p>
    <center>
      <div class="actions">
        <a href="" ng-click="toggleAdvanced()">&laquo; Go Back</a>
        <input type="submit" class="action" value="Create Poll" />
      </div>
    </center>
  </div>
</form>
